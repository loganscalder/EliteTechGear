---
title: "Advetising Analyzed by SKU"
date: "October 03, 2015 - December 1, 2015"
output: rmarkdown::tufte_handout
---

Glance at this. 
If there is something you want added to the tables, it shouldn't be hard, so 
don't hesitate to ask.


\marginnote{Data Dictionary:
  
  * Cost - amount spent on pay-per-click advertising time period.
  
  * Sales - Sales of the SKU that Amazon attributes to an ad, made with in
  a day of clicking on the ad.
  
  *Keyword - The keyword that was used to target your advertised SKU.  
  NOTE: In campaigns with automatic targeting, the keyword is listed as a star.
  
  * Clicks - Number of clicks on an ad for a SKU when the keyword was used
  
  * Impressions - Total number of times your advertisement was shown to customers 
  when the keyword was used
  
  * CTR - Clicks per Impression} 
  

  
  \marginnote{Additional data that could be shown includes:
  
  * Sales (All SKUs) - Sales of any SKU that Amazon attriubtes to an ad, with 
  in a day of clicking on the ad.
  
  * Sales (All SKUs, with in a month) - Sales of any SKU that Amazon attriubtes to an ad, with 
  in a month of clicking on the ad}

The Keywords table, I tried to organize. Suggest any organization critiques. Right now,
it's alphabetical by SKU and then within every SKU, it's
organized first from best advertising return (%) (right vocab?) and then 
by best click-through rate in the event of a tie.

Data definitions are here at the right ->

\newpage

And a photo of how I feel 'boutchoo
```{r, fig.height = 4}
library(jpeg)
img <- readJPEG("/Users/loganscalder/Pictures/logan.jpg")
plot(1:2,1:2, type = "n")
rasterImage(img, 1.2, 1.27, 1.8, 1.73)
```


\newpage

## Ad Costs and Sales by SKU


  
```{r read_in_data, cache = T, echo = F}
dataFile = "/Users/loganscalder/Google Drive/EliteTechGear/Data/To Be Categorized/campaign-performance-report-2015-10-03-60124016771.txt"

x = read.delim(file = dataFile, 
               nrows = 1000) # read in part of the data to get the colClasses
classes = sapply(x, class)  # use the column classes to speed up the read in
x = read.delim(file = dataFile, # read in all the data
               colClasses = classes)
```

```{r ad_costs, echo = F, message = F, cache = T}
require(plyr)
require(knitr)
costsBySku = 
    ddply(x,
          .var = .(Advertised.SKU),
          .fun = summarise,
          Cost = sum(Total.Spend),
          Sales = sum(X1.day.Same.SKU.Units.Ordered.Product.Sales))
kable(costsBySku)
write.csv(x = costsBySku, file = "Reports/adCostsBySku.csv")

# Cut variables
# `Sales (All SKUs)` = sum(X1.day.Ordered.Product.Sales....)
```



## Keywords by SKU


```{r key_words_generate, echo = F, cache = T}
keyWords = 
    ddply(x, 
          .var = .(Advertised.SKU, Keyword),
          .fun = summarise,
          Clicks = sum(Clicks),
          Impressions = sum(Impressions),
          CTR = round(Clicks/Impressions,
                        digits = 3),
          Cost = sum(Total.Spend),
          Sales = sum(X1.day.Same.SKU.Units.Ordered.Product.Sales)
          )
keyWords = ddply(keyWords, 
                 .var = "Advertised.SKU",
                 .fun = arrange,
                 Sales/Cost,
                 CTR,
                 decreasing = T)

kable(keyWords)
write.csv(x = keyWords, file = "Reports/keyWords.csv")
```


```{r, eval = F, echo = F}
# for playing:
summary(keyWords)
head(keyWords)
library(ggplot2)
keyPlot = ggplot(keyWords)
keyPlot + geom_density(aes(CTR))
keyPlot + geom_histogram(aes(CTR))
```

